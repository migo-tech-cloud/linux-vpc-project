#!/usr/bin/env python3
import subprocess
import sys

def run_script(script_name, vpc_name, host_if):
    print(f"\nðŸ”¹ Running: bash scripts/{script_name} {vpc_name} {host_if}\n")
    subprocess.run(['bash', f'scripts/{script_name}', vpc_name, host_if], check=True)

def create_vpcs(host_if='enX0'):
    print("ðŸš€ Creating Migo-vpc-1 and Migo-vpc-2...\n")
    run_script('create_vpc1.sh', 'Migo-vpc-1', host_if)
    run_script('create_vpc2.sh', 'Migo-vpc-2', host_if)
    print("\nâœ… Both VPCs created successfully!")

def cleanup_vpcs():
    print("ðŸ§¹ Cleaning up all VPCs...")
    subprocess.run(['bash', 'scripts/cleanup.sh'], check=True)
    print("âœ… Cleanup complete!")

def main():
    if len(sys.argv) < 2:
        print("Usage: python3 vpcctl.py <command>")
        print("Commands: create, cleanup")
        sys.exit(1)

    cmd = sys.argv[1].lower()
    if cmd == 'create':
        create_vpcs()
    elif cmd == 'cleanup':
        cleanup_vpcs()
    else:
        print(f"Unknown command: {cmd}")
        sys.exit(1)

if __name__ == "__main__":
    main()


